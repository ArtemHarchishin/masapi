package masapi.sample05{			import ch.capi.net.DataType;		import ch.capi.net.ILoadableFile;		import ch.capi.net.CompositeMassLoader;	
	
	import flash.display.Sprite;	import flash.display.Loader;	
	
	/**	 * Root file of the sub SWF.	 * 	 * @author		Cedric Tabin - thecaptain	 * @version		1.0	 */	public class SubDocument extends Sprite	{		//-----------//		//Constructor//		//-----------//				/**		 * Creates a new <code>SubDocument</code> object.		 */		public function SubDocument():void		{			/*			 * when this code will be executed, all the other files are loaded ! This			 * is due by two causes :			 * 	1) the CompositeMassLoader is sequential (parallelFiles=1)			 * 	2) the event Event.INIT on a Loader will always be dispatched before			 * 	   the event Event.COMPLETE of the Loader (and the CompositeMassLoader)			 * 	   			 * 	Because of that, we are able to retrieve directly the data ! 			 */			var rootLoader:CompositeMassLoader = CompositeMassLoader.get(SampleConstants.MASSLOADER_NAME);						//just to show the files into the MassLoader			var files:Array = rootLoader.getFiles();			for each(var file:ILoadableFile in files)			{				trace(file+" - "+file.closeEvent);			}						//and finally, display the flash image. Here the data are loaded, so we can			//simply use the getData() method ! (The file at index 2 is the flash picture)			var flashFile:ILoadableFile = rootLoader.getFileAt(2);			var flashPicture:Loader = flashFile.getData(DataType.LOADER);			addChild(flashPicture);		}	}}