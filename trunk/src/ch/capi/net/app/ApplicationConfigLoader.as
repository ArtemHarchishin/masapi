package ch.capi.net.app{	import flash.xml.XMLDocument;		import flash.events.Event;		import flash.net.URLLoaderDataFormat;		import flash.net.URLLoader;	import flash.xml.XMLNode;			/**	 * Utility class to load and parse an xml designed to be used by an <code>ApplicationMassLoader</code>.	 * 	 * @see		ch.capi.net.app.ApplicationFile			ApplicationFile	 * @see		ch.capi.net.app.ApplicationMassLoader	ApplicationMassLoader	 * @see		ch.capi.net.app.ApplicationFileParser	ApplicationFileParser	 * @author		Cedric Tabin - thecaptain	 * @version		1.0	 */	public class ApplicationConfigLoader extends URLLoader	{		//---------//		//Constants//		//---------//				//---------//		//Variables//		//---------//		private var _parser:ApplicationFileParser = new ApplicationFileParser();		//-----------------//		//Getters & Setters//		//-----------------//		/**		 * Defines the <code>ApplicationFileParser</code> that will be used		 * when the file is loaded.		 */		public function get fileParser():ApplicationFileParser { return _parser; }				//-----------//		//Constructor//		//-----------//				/**		 * Creates a new <code>ApplicationConfigLoader</code>.		 */		public function ApplicationConfigLoader():void		{			dataFormat = URLLoaderDataFormat.TEXT;			addEventListener(Event.COMPLETE, onFileLoaded, false, 10);		}				//--------------//		//Public methods//		//--------------//		//-----------------//		//Protected methods//		//-----------------//				/**		 * This method is called when the file is loaded.		 * 		 * @param	evt		The <code>Event</code> object.		 */		protected function onFileLoaded(evt:Event):void		{			var xmlConfig:XMLDocument = new XMLDocument();			xmlConfig.ignoreWhite = true;        	xmlConfig.parseXML(this.data);						_parser.parse(xmlConfig.firstChild);		}				//---------------//		//Private methods//		//---------------//	}}